(this["webpackJsonpreact-admin-client"]=this["webpackJsonpreact-admin-client"]||[]).push([[0],{302:function(e,t,n){},336:function(e,t,n){},406:function(e,t,n){},407:function(e,t,n){},408:function(e,t,n){},409:function(e,t,n){},524:function(e,t,n){},525:function(e,t,n){},526:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(39),i=n.n(s),c=n(90),o=n(19),l=n(20),u=n(22),d=n(21),h=n(29),p=(n(302),n(16)),j=n.n(p),b=n(30),m=n(292),f=n(536),O=n(290),g=n(44),x=n(542),v=n(543),y=n(42),k="set_head_title",w="receive_user",C="show_error_msg",S="reset_user",N="set_product",I=n(161),T=n(204),P=n.n(T);function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(a,r){("GET"===n?P.a.get(e,{params:t}):P.a.post(e,t)).then((function(e){a(e)})).catch((function(e){m.b.error("\u8bf7\u6c42\u51fa\u9519\u4e86\uff1a "+e.message)}))}))}var A=n(205),R=n.n(A),L=function(e,t){return _("/login",{username:e,password:t},"POST")},U=function(e){return _("/manage/user/"+(e._id?"update":"add"),e,"POST")},F=function(){return _("/manage/user/list")},E=function(e){return _("/manage/user/delete",{userId:e},"POST")},M=function(e){return _("/manage/category/list",{parentId:e})},D=function(e,t){return _("/manage/category/add",{parentId:e,categoryName:t},"POST")},V=function(e,t){return _("/manage/category/update",{categoryId:e,categoryName:t},"POST")},H=function(e){return _("/manage/category/info",{categoryId:e})},z=function(e,t){return _("/manage/product/list",{pageNum:e,pageSize:t})},q=function(e,t,n,a){return _("/manage/product/search",Object(I.a)({pageSize:t,pageNum:e},a,n))},W=function(e){return _("/manage/product/"+(e._id?"update":"add"),e,"POST")},K=function(e,t){return _("/manage/product/updateStatus",{productId:e,status:t},"POST")},B=function(e){return _("/manage/img/delete",{name:e},"POST")},J=function(e){return _("/manage/role/add",{roleName:e},"POST")},Z=function(){return _("/manage/role/list")},$=function(e){return _("/manage/role/update",e,"POST")},G=function(e,t){return _("/manage/role/rename",{id:e,name:t},"POST")},Q=function(){return new Promise((function(e,t){R()("https://restapi.amap.com/v3/ip?key=b31596256c9e00d77cb696b6ea16e5a8",{},(function(t,n){t||"1"!==n.status?m.b.error("\u83b7\u53d6\u5730\u5740\u4fe1\u606f\u5931\u8d25"):e(n.city)}))}))},X=function(){return new Promise(function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:a=e.sent,r="https://restapi.amap.com/v3/weather/weatherInfo?key=b31596256c9e00d77cb696b6ea16e5a8&city="+a,R()(r,{},(function(e,n){e||"1"!==n.status?m.b.error("\u83b7\u53d6\u5929\u6c14\u4fe1\u606f\u5931\u8d25"):t(n.lives[0])}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},Y=n(189),ee=n.n(Y),te="user_key",ne={saveUser:function(e){ee.a.set(te,e)},getUser:function(){return ee.a.get(te)||{}},removeUser:function(){ee.a.remove(te)}},ae=function(e){return{type:k,data:e}},re=function(e){return{type:w,user:e}},se=function(){return{type:S,user:{}}},ie=function(e){return{type:N,product:e}},ce=(n(336),n.p+"static/media/logo.b6ca280c.png"),oe=n(3),le=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.login(n.username,n.password);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.validator=function(e,t){return t?t.length<4||t.length>12||!/^[A-Za-z0-9_]+$/.test(t)?Promise.reject(new Error("\u4e0d\u7b26\u5408\u8981\u6c42\u54e6~~")):Promise.resolve():Promise.reject(new Error("\u9700\u8981\u8f93\u5165\u5bc6\u7801\u54e6~~"))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.user;if(e&&e._id)return Object(oe.jsx)(h.a,{to:"/home"});var t=this.props.user.errorMsg;return t&&m.b.error(t),Object(oe.jsxs)("div",{className:"login",children:[Object(oe.jsxs)("header",{className:"login-header",children:[Object(oe.jsx)("img",{src:ce,alt:"\u5f90\u599e\u599e\u599e\u599e\u599e\u599e"}),Object(oe.jsx)("h1",{children:"\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"})]}),Object(oe.jsxs)("section",{className:"login-content",children:[Object(oe.jsx)("div",{className:e.errorMsg?"error-msg show":"error-msg",children:this.props.user.errorMsg}),Object(oe.jsx)("h2",{children:"\u7528\u6237\u767b\u5f55"}),Object(oe.jsxs)(f.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(oe.jsx)(f.a.Item,{name:"username",rules:[{required:!0,whitespace:!0,message:"\u9700\u8981\u8f93\u5165\u7528\u6237\u540d\u54e6~~"},{min:4,message:"\u4e0d\u80fd\u5c0f\u4e8e4\u4f4d\u54e6~~"},{max:12,message:"\u4e0d\u80fd\u5927\u4e8e12\u4f4d\u54e6~~"},{pattern:/^[A-Za-z0-9_]+$/,message:"\u4e0d\u7b26\u5408\u8981\u6c42\u54e6~~"}],children:Object(oe.jsx)(O.a,{prefix:Object(oe.jsx)(x.a,{className:"site-form-item-icon",style:{color:"rgba(0,0,0,0.25)"}}),placeholder:"\u7528\u6237\u540d\u662f\u4ec0\u4e48\u561e"})}),Object(oe.jsx)(f.a.Item,{name:"password",rules:[{validator:this.validator}],children:Object(oe.jsx)(O.a,{prefix:Object(oe.jsx)(v.a,{className:"site-form-item-icon",style:{color:"rgba(0,0,0,0.25)"}}),type:"password",placeholder:"\u5bc6\u7801\u662f\u4ec0\u4e48\u561e"})}),Object(oe.jsx)(f.a.Item,{children:Object(oe.jsx)(g.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"\u767b\u5f55"})})]})]})]})}}]),n}(a.Component),ue=Object(y.b)((function(e){return{user:e.user}}),{login:function(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(a){var r,s,i;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L(e,t);case 2:r=n.sent,0===(s=r.data).status?(i=s.data,ne.saveUser(i),m.b.success("\u4f60\u597d".concat(i.username,"~~~")),a(re(i))):a((c=s.msg,{type:C,errorMsg:c}));case 5:case"end":return n.stop()}var c}),n)})));return function(e){return n.apply(this,arguments)}}()}})(le),de=n(531),he=n(110),pe=(n(406),n(544)),je=n(545),be=n(546),me=n(547),fe=n(548),Oe=n(549),ge=n(550),xe=n(551),ve=n(552),ye=[{title:"\u9996\u9875",key:"home",isPublic:!0,icon:Object(oe.jsx)(pe.a,{})},{title:"\u5546\u54c1",key:"sub1",icon:Object(oe.jsx)(je.a,{}),children:[{title:"\u54c1\u7c7b\u7ba1\u7406",key:"category",icon:Object(oe.jsx)(be.a,{})},{title:"\u5546\u54c1\u7ba1\u7406",key:"product",icon:Object(oe.jsx)(me.a,{})}]},{title:"\u7528\u6237\u7ba1\u7406",key:"user",icon:Object(oe.jsx)(x.a,{})},{title:"\u89d2\u8272\u7ba1\u7406",key:"role",icon:Object(oe.jsx)(fe.a,{})},{title:"\u56fe\u5f62\u5217\u8868",key:"sub2",icon:Object(oe.jsx)(Oe.a,{}),children:[{title:"\u67f1\u72b6\u56fe",key:"charts/bar",icon:Object(oe.jsx)(ge.a,{})},{title:"\u6298\u7ebf\u56fe",key:"charts/line",icon:Object(oe.jsx)(xe.a,{})},{title:"\u997c\u72b6\u56fe",key:"charts/pie",icon:Object(oe.jsx)(ve.a,{})}]}],ke=he.a.SubMenu,we="",Ce=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).hasAuth=function(e){var t=e.key,n=e.isPublic,r=a.props.user.role.menus;return!("admin"!==a.props.user.username&&!n&&-1===r.indexOf(t))||!!e.children&&!!e.children.find((function(e){return-1!==r.indexOf(e.key)}))},a.getMenuNodes=function(e){return e.reduce((function(e,t){a.hasAuth(t)&&(-1!==a.props.location.pathname.slice(1).indexOf(t.key)&&a.props.setHeadTitle(t.title),t.children?(t.children.find((function(e){return 1===a.props.location.pathname.indexOf(e.key)}))&&(we=t.key),e.push(Object(oe.jsx)(ke,{icon:t.icon,title:t.title,children:a.getMenuNodes(t.children)},t.key))):e.push(Object(oe.jsx)(he.a.Item,{icon:t.icon,children:Object(oe.jsx)(c.b,{to:"/".concat(t.key),onClick:function(){return a.props.setHeadTitle(t.title)},children:t.title})},t.key)));return e}),[])},a.menuNodes=a.getMenuNodes(ye),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.location.pathname.slice(1);return"product"===e.substring(0,7)&&(e="product"),Object(oe.jsxs)("div",{className:"left-nav",children:[Object(oe.jsx)(c.b,{to:"/home",children:Object(oe.jsxs)("header",{className:"left-nav-header",children:[Object(oe.jsx)("img",{src:ce,alt:"\u599e\u599e\u599e\u599e~"}),Object(oe.jsx)("h1",{children:"\u540e\u53f0~"})]})}),Object(oe.jsx)("div",{children:Object(oe.jsx)(he.a,{selectedKeys:[e],defaultOpenKeys:[we],mode:"inline",theme:"dark",children:this.menuNodes})})]})}}]),n}(a.Component),Se=Object(y.b)((function(e){return{headTitle:e.headTitle,user:e.user}}),{setHeadTitle:ae})(Object(h.g)(Ce)),Ne=n(540);function Ie(e){if(!e)return"";var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+(Number(t.getMinutes())<10?"0"+t.getMinutes():t.getMinutes())+":"+(Number(t.getSeconds())<10?"0"+t.getSeconds():t.getSeconds())}var Te=n(54);n(407);function Pe(e){return Object(oe.jsx)("button",Object(Te.a)(Object(Te.a)({},e),{},{className:"link-button"}))}n(408);var _e=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currentTime:Ie(Date.now()),location:"",weather:"",temperature:""},e.confirm=function(){ne.removeUser(),e.props.resetUser(),e.props.history.replace("/login"),m.b.success("\u60a8\u5df2\u9000\u51fa\u767b\u5f55")},e.getLocation=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q();case 2:n=t.sent,e.setState({location:n});case 4:case"end":return t.stop()}}),t)}))),e.getWeather=Object(b.a)(j.a.mark((function t(){var n,a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X();case 2:n=t.sent,a=n.weather,r=n.temperature,e.setState({weather:a,temperature:r});case 6:case"end":return t.stop()}}),t)}))),e.getTitle=function(){return e.props.headTitle},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timeInterval=setInterval((function(){e.setState({currentTime:Ie(Date.now())})}),1e3),this.getLocation(),this.getWeather(),this.secondTimeInterval=setInterval((function(){e.getLocation(),e.getWeather()}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeInterval),clearInterval(this.secondTimeInterval)}},{key:"render",value:function(){var e=this.state,t=e.currentTime,n=e.location,a=e.weather,r=e.temperature,s=this.props.user.username;return Object(oe.jsxs)("div",{className:"header",children:[Object(oe.jsxs)("div",{className:"header-top",children:[Object(oe.jsxs)("span",{children:["\u6b22\u8fce\uff0c",s]}),Object(oe.jsx)(Ne.a,{title:"\u786e\u5b9a\u8981\u9000\u51fa\u5417`(*>\ufe4f<*)\u2032",onConfirm:this.confirm,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:Object(oe.jsx)(Pe,{children:"\u9000\u51fa"})})]}),Object(oe.jsxs)("div",{className:"header-bottom",children:[Object(oe.jsx)("div",{className:"header-bottom-left",children:this.getTitle()}),Object(oe.jsxs)("div",{className:"header-bottom-right",children:[Object(oe.jsx)("span",{children:t}),Object(oe.jsx)("span",{children:"\u57ce\u5e02\uff1a".concat(n)}),Object(oe.jsx)("span",{children:"\u5929\u6c14\uff1a".concat(a)}),Object(oe.jsx)("span",{children:"\u6e29\u5ea6\uff1a".concat(r)})]})]})]})}}]),n}(a.Component),Ae=Object(y.b)((function(e){return{headTitle:e.headTitle,user:e.user}}),{resetUser:se})(Object(h.g)(_e)),Re=n(534),Le=n(537),Ue=n(296),Fe=n(553),Ee=n(554),Me=(n(409),n(78)),De=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).option={title:{text:"\u6298\u7ebf\u56fe\u5806\u53e0"},tooltip:{trigger:"axis"},legend:{data:["\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u76f4\u63a5\u8bbf\u95ee","\u641c\u7d22\u5f15\u64ce"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"]},yAxis:{type:"value"},series:[{name:"\u90ae\u4ef6\u8425\u9500",type:"line",stack:"\u603b\u91cf",data:[120,132,101,134,90,230,210]},{name:"\u8054\u76df\u5e7f\u544a",type:"line",stack:"\u603b\u91cf",data:[220,182,191,234,290,330,310]},{name:"\u89c6\u9891\u5e7f\u544a",type:"line",stack:"\u603b\u91cf",data:[150,232,201,154,190,330,410]},{name:"\u76f4\u63a5\u8bbf\u95ee",type:"line",stack:"\u603b\u91cf",data:[320,332,301,334,390,330,320]},{name:"\u641c\u7d22\u5f15\u64ce",type:"line",stack:"\u603b\u91cf",data:[820,932,901,934,1290,1330,1320]}]},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(oe.jsx)(Re.a,{className:"home-line",children:Object(oe.jsx)(Me.a,{option:this.option,style:{minHeight:"100%"}})})}}]),n}(a.Component),Ve=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(oe.jsxs)("div",{className:"home",children:[Object(oe.jsxs)(Re.a,{className:"home-card",title:"\u5546\u54c1\u603b\u91cf",extra:Object(oe.jsx)(Ue.a,{style:{color:"rgba(0,0,0,.45)"}}),children:[Object(oe.jsx)(Le.a,{value:112893,suffix:"\u4e2a",style:{fontWeight:"bolder"}}),Object(oe.jsx)(Le.a,{value:15,prefix:"\u5468\u540c\u6bd4",valueStyle:{fontSize:15},suffix:Object(oe.jsxs)("div",{children:["%",Object(oe.jsx)(Fe.a,{style:{color:"red",marginLeft:10}})]})}),Object(oe.jsx)(Le.a,{value:19,prefix:"\u65e5\u540c\u6bd4",valueStyle:{fontSize:15},suffix:Object(oe.jsxs)("div",{children:["%",Object(oe.jsx)(Ee.a,{style:{color:"green",marginLeft:10}})]})})]}),Object(oe.jsx)(De,{lassName:"home-line"})]})}}]),n}(a.Component),He=n(532),ze=n(538),qe=n(297),We=n(555),Ke=n(140),Be=Ke.a.Option,Je=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).validator=function(e,t){return t?""===t.trim()?Promise.reject(new Error("\u5206\u7c7b\u540d\u79f0\u4e0d\u80fd\u5168\u662f\u7a7a\u683c\u54e6~~")):Promise.resolve():Promise.reject(new Error("\u9700\u8981\u8f93\u5165\u5206\u7c7b\u540d\u79f0\u54e6~~"))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(oe.jsxs)(f.a,{layout:"vertical",className:"addCategory-form",ref:function(t){e.form=t,e.props.addValues(e.form)},children:[Object(oe.jsx)(f.a.Item,{initialValue:this.props.parentId,label:"\u6240\u5c5e\u5206\u7c7b\uff1a",name:"parentId",rules:[{required:!0,message:"\u6240\u5c5e\u5206\u7c7b\u662f\u4ec0\u4e48\u561e"}],children:Object(oe.jsxs)(Ke.a,{style:{width:"100%"},placeholder:"\u5206\u7c7b\u662f\u4ec0\u4e48\u561e~~",showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:[Object(oe.jsx)(Be,{value:"0",children:"\u4e00\u7ea7\u5206\u7c7b"}),this.props.categories.map((function(e){return Object(oe.jsx)(Be,{value:e._id,children:e.name},e._id)}))]})}),Object(oe.jsx)(f.a.Item,{label:"\u5206\u7c7b\u540d\u79f0\uff1a",name:"categoryName",rules:[{validator:this.validator}],required:!0,children:Object(oe.jsx)(O.a,{placeholder:"\u5206\u7c7b\u540d\u79f0\u662f\u4ec0\u4e48\u561e~~"})})]})}}]),n}(a.Component),Ze=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).validator=function(e,t){return t?""===t.trim()?Promise.reject(new Error("\u5206\u7c7b\u540d\u79f0\u4e0d\u80fd\u5168\u662f\u7a7a\u683c\u54e6~~")):Promise.resolve():Promise.reject(new Error("\u9700\u8981\u8f93\u5165\u5206\u7c7b\u540d\u79f0\u54e6~~"))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(oe.jsx)(f.a,{layout:"vertical",className:"updateCategory-form",children:Object(oe.jsx)(f.a.Item,{initialValue:this.props.categoryName,label:"\u5206\u7c7b\u540d\u79f0\uff1a",name:"categoryName",rules:[{validator:this.validator}],required:!0,children:Object(oe.jsx)(O.a,{placeholder:"\u5206\u7c7b\u540d\u79f0\u662f\u4ec0\u4e48\u561e~~",onChange:function(t){e.props.updateValue(t.target.value)}})})})}}]),n}(a.Component),$e=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={categoryList:[],subCategoryList:[],loading:!0,parentId:"0",parentName:"",visible:0},e.columns=[{title:"\u59d3\u540d",dataIndex:"name",key:"name",align:"center"},{title:"\u64cd\u4f5c",key:"action",width:"35%",align:"center",render:function(t){return Object(oe.jsxs)("span",{children:[Object(oe.jsx)(Pe,{onClick:function(){e.setState({visible:2}),e.category=t},children:"\u4fee\u6539\u5206\u7c7b"}),"0"===e.state.parentId?Object(oe.jsx)(Pe,{onClick:e.showSubCategoryList(t),children:"\u67e5\u770b\u5b50\u5206\u7c7b"}):null]})}}],e.extra=Object(oe.jsxs)(g.a,{type:"primary",shape:"round",onClick:function(){return e.setState({visible:1})},children:[Object(oe.jsx)(qe.a,{}),"\u6dfb\u52a0"]}),e.category={name:""},e.showSubCategoryList=function(t){return function(){e.setState({parentId:t._id,parentName:t.name},(function(){e.getCategoryList()}))}},e.showFirstCategoryList=function(){e.setState({subCategoryList:[],parentId:"0",parentName:""},(function(){e.getCategoryList()}))},e.getCategoryList=Object(b.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),n=e.state.parentId,t.next=4,M(n);case 4:0===(a=t.sent).data.status?"0"===n?e.setState({categoryList:a.data.data,loading:!1}):e.setState({subCategoryList:a.data.data,loading:!1}):m.b.error("\u83b7\u53d6\u5206\u7c7b\u5217\u8868\u5931\u8d25~~~");case 6:case"end":return t.stop()}}),t)}))),e.handleAddOk=function(){e.addForm.validateFields().then(function(){var t=Object(b.a)(j.a.mark((function t(n){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({visible:0}),a=n.parentId,r=n.categoryName,t.next=4,D(a,r);case 4:0===t.sent.data.status?e.getCategoryList():m.b.error("\u6dfb\u52a0\u5206\u7c7b\u5217\u8868\u5931\u8d25~~~");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){}))},e.handleUpdateOk=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e.updateName.trim()||!e.updateName){t.next=6;break}return e.setState({visible:0}),t.next=4,V(e.category._id,e.updateName);case 4:0===t.sent.data.status?e.getCategoryList():m.b.error("\u66f4\u65b0\u5206\u7c7b\u5217\u8868\u5931\u8d25~~~");case 6:case"end":return t.stop()}}),t)}))),e.updateValue=function(t){e.updateName=t},e.addValues=function(t){e.addForm=t},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getCategoryList()}},{key:"render",value:function(){var e=this,t="0"===this.state.parentId?Object(oe.jsx)("span",{style:{marginLeft:6},children:"\u4e00\u7ea7\u5206\u7c7b\u5217\u8868"}):Object(oe.jsxs)("span",{children:[Object(oe.jsx)(Pe,{onClick:this.showFirstCategoryList,children:"\u4e00\u7ea7\u5206\u7c7b\u5217\u8868"}),Object(oe.jsx)(We.a,{style:{marginRight:5}}),Object(oe.jsx)("span",{children:this.state.parentName})]});return Object(oe.jsxs)(Re.a,{title:t,extra:this.extra,style:{width:"100%",height:"100%"},children:[Object(oe.jsx)(He.a,{style:{width:"100%",height:"100%"},bordered:!0,rowKey:"_id",loading:this.state.loading,pagination:{defaultPageSize:5,showQuickJumper:!0},dataSource:"0"===this.state.parentId?this.state.categoryList:this.state.subCategoryList,columns:this.columns}),Object(oe.jsx)(ze.a,{title:"\u6dfb\u52a0\u5206\u7c7b",destroyOnClose:!0,visible:1===this.state.visible,onOk:this.handleAddOk,onCancel:function(){return e.setState({visible:0})},cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",children:Object(oe.jsx)(Je,{categories:this.state.categoryList,parentId:this.state.parentId,addValues:this.addValues})}),Object(oe.jsx)(ze.a,{title:"\u4fee\u6539\u5206\u7c7b",destroyOnClose:!0,visible:2===this.state.visible,onOk:this.handleUpdateOk,onCancel:function(){return e.setState({visible:0})},cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",children:Object(oe.jsx)(Ze,{categoryName:this.category.name||"",updateValue:this.updateValue})})]})}}]),n}(a.Component),Ge="http://localhost:5000/upload/",Qe=Ke.a.Option,Xe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={total:0,product:[],loading:!1,searchName:"",searchType:"productName"},e.status=1,e.extra=Object(oe.jsxs)(g.a,{type:"primary",shape:"round",onClick:function(){return e.props.history.push("/product/addupdate")},children:[Object(oe.jsx)(qe.a,{}),"\u6dfb\u52a0"]}),e.columns=[{align:"center",title:"\u5546\u54c1\u540d\u79f0",dataIndex:"name",key:"name"},{align:"center",title:"\u5546\u54c1\u63cf\u8ff0",dataIndex:"desc",key:"desc"},{align:"center",width:"7%",title:"\u4ef7\u683c",dataIndex:"price",key:"price",render:function(e){return"\uffe5"+e}},{align:"center",width:"7%",title:"\u72b6\u6001",dataIndex:"status",key:"status",render:function(t,n){return Object(oe.jsxs)("span",{children:[Object(oe.jsx)(g.a,{type:"primary",onClick:function(){return e.updateStatus(n._id,1===t?2:1)},children:1===n.status?"\u4e0b\u67b6":"\u4e0a\u67b6"}),Object(oe.jsx)("br",{}),Object(oe.jsx)("span",{children:2===n.status?"\u5df2\u4e0b\u67b6":"\u5728\u552e"})]})}},{align:"center",width:"7%",title:"\u64cd\u4f5c",render:function(t){return Object(oe.jsxs)("span",{children:[Object(oe.jsx)(Pe,{onClick:function(){e.props.history.push("/product/detail"),e.props.setProduct(t)},children:"\u8be6\u60c5"}),Object(oe.jsx)(Pe,{onClick:function(){e.props.history.push("/product/addupdate"),e.props.setProduct(t)},children:"\u4fee\u6539"})]})}}],e.updateStatus=function(){var t=Object(b.a)(j.a.mark((function t(n,a){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(n,a);case 2:r=t.sent,0===r.data.status?(m.b.success("\u66f4\u65b0\u6210\u529f\u5566~~~"),e.getProducts(e.pageNum)):(m.b.error("\u6dfb\u52a0\u5206\u7c7b\u5217\u8868\u5931\u8d25~~~"),e.setState({loading:!1}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getProducts=function(t){e.pageNum=t,e.setState({loading:!0},Object(b.a)(j.a.mark((function n(){var a,r,s,i,c,o,l,u,d,h;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.state.searchName){n.next=8;break}return n.next=3,q(t,3,e.state.searchName,e.state.searchType);case 3:a=n.sent,0===(r=a.data).status?(s=r.data,i=s.total,c=s.list,e.setState({total:i,product:c,loading:!1})):(m.b.error("\u6dfb\u52a0\u5206\u7c7b\u5217\u8868\u5931\u8d25~~~"),e.setState({loading:!1})),n.next=13;break;case 8:return n.next=10,z(t,3);case 10:o=n.sent,0===(l=o.data).status?(u=l.data,d=u.total,h=u.list,e.setState({total:d,product:h,loading:!1})):(m.b.error("\u6dfb\u52a0\u5206\u7c7b\u5217\u8868\u5931\u8d25~~~"),e.setState({loading:!1}));case 13:case"end":return n.stop()}}),n)}))))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getProducts(1)}},{key:"render",value:function(){var e=this,t=Object(oe.jsxs)("span",{children:[Object(oe.jsxs)(Ke.a,{defaultValue:this.state.searchType,style:{width:"15%"},onChange:function(t){return e.setState({searchType:t})},children:[Object(oe.jsx)(Qe,{value:"productName",children:"\u6309\u540d\u79f0\u641c\u7d22"}),Object(oe.jsx)(Qe,{value:"productDesc",children:"\u6309\u63cf\u8ff0\u641c\u7d22"})]}),Object(oe.jsx)(O.a,{placeholder:"\u641c\u7d22\u5565\u561e~",style:{width:"20%",margin:"0 15px"},defaultValue:this.state.searchName,onChange:function(t){return e.setState({searchName:t.target.value})}}),Object(oe.jsx)(g.a,{type:"primary",onClick:function(){return e.getProducts(1)},children:"\u641c\u7d22"})]});return Object(oe.jsx)(Re.a,{title:t,extra:this.extra,style:{width:"100%",height:"100%"},children:Object(oe.jsx)(He.a,{dataSource:this.state.product,columns:this.columns,bordered:!0,rowKey:"_id",style:{width:"100%",height:"100%"},pagination:{defaultPageSize:3,showQuickJumper:!0,total:this.state.total,onChange:this.getProducts},loading:this.state.loading})})}}]),n}(a.Component),Ye=Object(y.b)((function(e){return{product:e.product}}),{setProduct:ie})(Xe),et=n(124),tt=n(160),nt=n(539),at=n(556),rt=n(533);function st(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}var it=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).state={previewVisible:!1,previewTitle:"",previewImage:"",fileList:[]},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,st(t.originFileObj);case 3:t.preview=e.sent;case 4:a.setState({previewImage:t.url||t.preview,previewVisible:!0,previewTitle:t.name||t.url.substring(t.url.lastIndexOf("/")+1)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,s,i,c,o,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file,r=t.fileList,"done"!==n.status){e.next=6;break}0===(s=n.response).status?(m.b.success("\u56fe\u7247\u4e0a\u4f20\u6210\u529f\u5566~~~"),i=s.data,c=i.name,o=i.url,r[r.length-1].name=c,r[r.length-1].url=o):m.b.error("\u6b38\uff1f\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\u54e6\uff0c\u5931\u8d25\u5566"),e.next=12;break;case 6:if("removed"!==n.status){e.next=12;break}return e.next=9,B(n.name);case 9:l=e.sent,0===l.data.status?m.b.success("\u5220\u9664\u6210\u529f\u5566"):m.b.error("\u5220\u9664\u5931\u8d25\uff0c\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u5566");case 12:a.setState({fileList:r});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getImgs=function(){return a.state.fileList.map((function(e){return e.name}))};var r=a.props.imgs;if(r&&r.length>0){var s=r.map((function(e,t){return{uid:-t,name:e,status:"done",url:Ge+e}}));a.state.fileList=s}return a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.previewVisible,n=e.previewTitle,a=e.previewImage,r=e.fileList,s=Object(oe.jsxs)("div",{children:[Object(oe.jsx)(qe.a,{}),Object(oe.jsx)("div",{style:{marginTop:8},children:"\u4e0a\u4f20\u56fe\u7247"})]});return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(rt.a,{action:"/manage/img/upload",accept:"image/*",listType:"picture-card",name:"image",fileList:r,onPreview:this.handlePreview,onChange:this.handleChange,children:r.length>=3?null:s}),Object(oe.jsx)(ze.a,{visible:t,title:n,footer:null,onCancel:this.handleCancel,children:Object(oe.jsx)("img",{alt:"\u56fe\u7247",style:{width:"100%"},src:a})})]})}}]),n}(a.Component),ct=n(105),ot=n(283),lt=n(284),ut=n.n(lt),dt=(n(523),n(285)),ht=n.n(dt),pt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).onEditorStateChange=function(e){a.setState({editorState:e})},a.uploadImageCallBack=function(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.open("POST","/manage/img/upload");var r=new FormData;r.append("image",e),a.send(r),a.addEventListener("load",(function(){var e=JSON.parse(a.responseText).data.url;t({data:{link:e}})})),a.addEventListener("error",(function(){var e=JSON.parse(a.responseText);n(e)}))}))},a.getDetail=function(){return ut()(Object(ct.convertToRaw)(a.state.editorState.getCurrentContent()))};var r=a.props.detail;if(r){var s=ht()(r);if(s){var i=ct.ContentState.createFromBlockArray(s.contentBlocks),c=ct.EditorState.createWithContent(i);a.state={editorState:c}}}else a.state={editorState:ct.EditorState.createEmpty()};return a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.editorState;return Object(oe.jsx)("div",{children:Object(oe.jsx)(ot.Editor,{editorState:e,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",editorStyle:{border:"1px solid gray",minHeight:200,padding:10},onEditorStateChange:this.onEditorStateChange,toolbar:{image:{uploadCallback:this.uploadImageCallBack,alt:{present:!0,mandatory:!0}}}})})}}]),n}(a.Component),jt=f.a.Item,bt=O.a.TextArea,mt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).state={options:[]},a.initOptions=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,s,i,c,o,l,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.map((function(e){return{value:e._id,label:e.name,isLeaf:!1}})),r=Object(tt.a)(a),s=r.isUpdate,i=r.product,c=i.pCategoryId,!s||"0"===c){e.next=10;break}return e.next=6,a.getCategories(c);case 6:o=e.sent,l=o.map((function(e){return{label:e.name,value:e._id,parentId:e.parentId,isLeaf:!0}})),u=n.findIndex((function(e){return e.value===c})),n[u].children=l;case 10:a.setState({options:n});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getCategories=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:if(n=e.sent,0!==(r=n.data).status){e.next=13;break}if(s=r.data,0!==t){e.next=10;break}a.initOptions(s),e.next=11;break;case 10:return e.abrupt("return",s);case 11:e.next=14;break;case 13:m.b.error("\u83b7\u53d6\u5217\u8868\u9519\u8bef");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.validatorRequired=function(e,t){return t&&0!==t.length?Promise.resolve():Promise.reject(new Error("\u9700\u8981\u8f93\u5165\u54e6~~"))},a.loadData=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t[t.length-1]).loading=!0,e.next=4,a.getCategories(n.value);case 4:(r=e.sent)&&r.length>0?(n.children=r.map((function(e){return{label:e.name,value:e._id,parentId:e.parentId,isLeaf:!0}})),n.loading=!1):(n.loading=!1,n.isLeaf=!0),a.setState({options:Object(et.a)(a.state.options)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onFinish=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,s,i,c,o,l,u,d,h;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.desc,s=t.price,i=t.categoryIds,c=a.picturesWall.current.getImgs(),o=a.richTextEditor.current.getDetail(),1===i.length?(l="0",u=i[0]):(l=i[0],u=i[1]),d={name:n,desc:r,price:s,pCategoryId:l,categoryId:u,imgs:c,detail:o},a.isUpdate&&(d._id=a.product._id),e.next=8,W(d);case 8:h=e.sent,0===h.data.status?(m.b.success("".concat(a.isUpdate?"\u66f4\u65b0":"\u6dfb\u52a0","\u5546\u54c1\u6210\u529f\u5566~~")),a.props.history.push("/product")):m.b.error("".concat(a.isUpdate?"\u66f4\u65b0":"\u6dfb\u52a0","\u5546\u54c1\u5931\u8d25\u4e86\u54e6"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var s=a.props.product;return a.isUpdate=!!s._id,a.product=s||{},a.picturesWall=r.a.createRef(),a.richTextEditor=r.a.createRef(),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getCategories(0)}},{key:"componentWillUnmount",value:function(){this.props.setProduct({})}},{key:"render",value:function(){var e=this,t=Object(oe.jsxs)("span",{children:[Object(oe.jsx)(Pe,{onClick:function(){return e.props.history.goBack()},children:Object(oe.jsx)(at.a,{style:{marginRight:10,fontSize:20}})}),this.isUpdate?Object(oe.jsx)("span",{children:"\u4fee\u6539\u5546\u54c1"}):Object(oe.jsx)("span",{children:"\u6dfb\u52a0\u5546\u54c1"})]}),n=[],a=this.product,r=a.pCategoryId,s=a.categoryId,i=a.imgs;return this.isUpdate&&("0"===r||n.push(r),n.push(s)),Object(oe.jsx)(Re.a,{title:t,style:{width:"100%",height:"100%"},children:Object(oe.jsxs)(f.a,Object(Te.a)(Object(Te.a)({},{labelCol:{span:3},wrapperCol:{span:12}}),{},{onFinish:this.onFinish,ref:function(t){e.form=t},initialValues:{remember:!1},children:[Object(oe.jsx)(jt,{label:"\u5546\u54c1\u540d\u79f0",name:"name",initialValue:this.product.name,rules:[{validator:this.validatorRequired}],required:!0,children:Object(oe.jsx)(O.a,{placeholder:"\u5546\u54c1\u540d\u79f0\u53eb\u4ec0\u4e48\u561e~~~"})}),Object(oe.jsx)(jt,{label:"\u5546\u54c1\u63cf\u8ff0",name:"desc",initialValue:this.product.desc,children:Object(oe.jsx)(bt,{placeholder:"\u6709\u5565\u5b50\u63cf\u8ff0\u5462~~~",autoSize:{minRows:2,maxRows:6}})}),Object(oe.jsx)(jt,{label:"\u5546\u54c1\u4ef7\u683c",required:!0,name:"price",initialValue:this.product.price,rules:[{validator:function(e,t){return 1*t>=0?Promise.resolve():Promise.reject(new Error("\u4ef7\u683c\u4e0d\u80fd\u5c0f\u4e8e0\u54e6~~~"))}},{validator:this.validatorRequired}],children:Object(oe.jsx)(O.a,{type:"number",placeholder:"\u5546\u54c1\u597d\u591a\u94b1\u561e~~~",addonAfter:"\u5143"})}),Object(oe.jsx)(jt,{label:"\u5546\u54c1\u5206\u7c7b",initialValue:n,rules:[{validator:this.validatorRequired}],required:!0,name:"categoryIds",children:Object(oe.jsx)(nt.a,{placeholder:"\u9009\u62e9\u5427",options:this.state.options,loadData:this.loadData})}),Object(oe.jsx)(jt,{label:"\u5546\u54c1\u56fe\u7247",children:Object(oe.jsx)(it,{ref:this.picturesWall,imgs:i})}),Object(oe.jsx)(jt,{label:"\u5546\u54c1\u8be6\u60c5",labelCol:{span:3},wrapperCol:{span:20},children:Object(oe.jsx)(pt,{ref:this.richTextEditor,detail:this.product.detail})}),Object(oe.jsx)(jt,{style:{display:"flex",justifyContent:"center"},labelCol:{span:23},wrapperCol:{span:1},children:Object(oe.jsx)(g.a,{type:"primary",shape:"round",htmlType:"submit",children:"\u63d0\u4ea4"})})]}))})}}]),n}(a.Component),ft=Object(y.b)((function(e){return{product:e.product}}),{setProduct:ie})(mt),Ot=n(541),gt=Ot.b.Item,xt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={cName1:"",cName2:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a,r,s,i,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.product,n=t.pCategoryId,a=t.categoryId,"0"!==n){e.next=9;break}return e.next=4,H(a);case 4:r=e.sent,s=r.data,this.setState({cName1:s.data.name}),e.next=15;break;case 9:return e.next=11,Promise.all([H(n),H(a)]);case 11:i=e.sent,c=i[0].data.data.name,o=i[1].data.data.name,this.setState({cName1:c,cName2:o});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.setProduct({})}},{key:"render",value:function(){var e=this,t=this.props.product,n=t.name,a=t.desc,r=t.price,s=t.detail,i=t.imgs,c=Object(oe.jsxs)("span",{children:[Object(oe.jsx)(Pe,{onClick:function(){return e.props.history.goBack()},children:Object(oe.jsx)(at.a,{style:{marginRight:10,fontSize:20}})}),Object(oe.jsx)("span",{children:"\u5546\u54c1\u8be6\u60c5"})]});return Object(oe.jsx)(Re.a,{title:c,className:"product-detail",style:{width:"100%",height:"100%"},children:Object(oe.jsxs)(Ot.b,{children:[Object(oe.jsxs)(gt,{children:[Object(oe.jsx)("span",{className:"left",children:"\u5546\u54c1\u540d\u79f0\uff1a"}),Object(oe.jsx)("span",{children:n})]}),Object(oe.jsxs)(gt,{children:[Object(oe.jsx)("span",{className:"left",children:"\u5546\u54c1\u63cf\u8ff0\uff1a"}),Object(oe.jsx)("span",{children:a})]}),Object(oe.jsxs)(gt,{children:[Object(oe.jsx)("span",{className:"left",children:"\u5546\u54c1\u4ef7\u683c\uff1a"}),Object(oe.jsxs)("span",{children:[r,"\u5143"]})]}),Object(oe.jsxs)(gt,{children:[Object(oe.jsx)("span",{className:"left",children:"\u6240\u5c5e\u5206\u7c7b\uff1a"}),Object(oe.jsxs)("span",{children:[this.state.cName1," ",this.state.cName2?"--\x3e"+this.state.cName2:null]})]}),Object(oe.jsxs)(gt,{children:[Object(oe.jsx)("span",{className:"left",children:"\u5546\u54c1\u56fe\u7247\uff1a"}),i.map((function(e){return Object(oe.jsx)("img",{className:"product-img",src:Ge+e,alt:"\u56fe\u7247"},e)}))]}),Object(oe.jsxs)(gt,{children:[Object(oe.jsx)("span",{className:"left",children:"\u5546\u54c1\u8be6\u60c5\uff1a"}),Object(oe.jsx)("span",{dangerouslySetInnerHTML:{__html:s}})]})]})})}}]),n}(a.Component),vt=Object(y.b)((function(e){return{product:e.product}}),{setProduct:ie})(xt),yt=(n(524),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(oe.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(oe.jsxs)(h.d,{children:[Object(oe.jsx)(h.b,{path:"/product",exact:!0,component:Ye}),Object(oe.jsx)(h.b,{path:"/product/addupdate",component:ft}),Object(oe.jsx)(h.b,{path:"/product/detail",component:vt}),Object(oe.jsx)(h.a,{to:"/product"})]})})}}]),n}(a.Component)),kt=Ke.a.Option,wt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).validator=function(e,t){return t?t.length<4||t.length>12||!/^[A-Za-z0-9_]+$/.test(t)?Promise.reject(new Error("\u4e0d\u7b26\u5408\u8981\u6c42\u54e6~~")):Promise.resolve():Promise.reject(new Error("\u9700\u8981\u8f93\u5165\u5bc6\u7801\u54e6~~"))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getForm(this.form)}},{key:"render",value:function(){var e=this,t=this.props.user||{};return Object(oe.jsxs)(f.a,Object(Te.a)(Object(Te.a)({className:"AddUpdateRole-form",ref:function(t){return e.form=t}},{labelCol:{span:4},wrapperCol:{span:20}}),{},{children:[Object(oe.jsx)(f.a.Item,{initialValue:t.username,label:"\u7528\u6237\u540d\uff1a",name:"username",rules:[{required:!0,whitespace:!0,message:"\u9700\u8981\u8f93\u5165\u7528\u6237\u540d\u54e6~~"},{min:4,message:"\u4e0d\u80fd\u5c0f\u4e8e4\u4f4d\u54e6~~"},{max:12,message:"\u4e0d\u80fd\u5927\u4e8e12\u4f4d\u54e6~~"},{pattern:/^[A-Za-z0-9_]+$/,message:"\u4e0d\u7b26\u5408\u8981\u6c42\u54e6~~"}],required:!0,children:Object(oe.jsx)(O.a,{placeholder:"\u7528\u6237\u540d\u79f0\u662f\u4ec0\u4e48\u561e~~"})}),t._id?null:Object(oe.jsx)(f.a.Item,{label:"\u5bc6\u7801\uff1a",name:"password",initialValue:t.password,rules:[{validator:this.validator}],required:!0,children:Object(oe.jsx)(O.a,{type:"password",placeholder:"\u5bc6\u7801\u662f\u4ec0\u4e48\u561e~~"})}),Object(oe.jsx)(f.a.Item,{label:"\u7535\u8bdd\uff1a",name:"phone",initialValue:t.phone,children:Object(oe.jsx)(O.a,{placeholder:"\u7535\u8bdd\u662f\u4ec0\u4e48\u561e~~"})}),Object(oe.jsx)(f.a.Item,{label:"\u90ae\u7bb1\uff1a",name:"email",initialValue:t.email,rules:[{pattern:new RegExp("^[0-9a-zA-Z\\.]+@[0-9a-zA-Z]+\\.[a-zA-Z]+$"),message:"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u5bf9\u54e6~"}],children:Object(oe.jsx)(O.a,{placeholder:"\u90ae\u7bb1\u662f\u4ec0\u4e48\u561e~~"})}),Object(oe.jsx)(f.a.Item,{label:"\u89d2\u8272\uff1a",name:"role_id",initialValue:t.role_id,children:Object(oe.jsx)(Ke.a,{placeholder:"\u89d2\u8272\u662f\u4ec0\u4e48\u561e~~",children:this.props.roles.map((function(e){return Object(oe.jsx)(kt,{value:e._id,children:e.name},e._id)}))})})]}))}}]),n}(a.PureComponent),Ct=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,visible:!1,users:[],roles:[],selectedUser:{}},e.columns=[{title:"\u8d26\u53f7",dataIndex:"username",key:"username",align:"center"},{title:"\u90ae\u7bb1",key:"email",dataIndex:"email",align:"center"},{title:"\u7535\u8bdd",key:"phone",dataIndex:"phone",align:"center"},{title:"\u521b\u5efa\u65f6\u95f4",key:"create_time",dataIndex:"create_time",align:"center",render:Ie},{title:"\u6240\u5c5e\u89d2\u8272",key:"role_id",dataIndex:"role_id",align:"center",render:function(t){return e.roleNames[t]}},{title:"\u64cd\u4f5c",key:"action",align:"center",render:function(t){return Object(oe.jsxs)("span",{children:[Object(oe.jsx)(Pe,{onClick:function(){return e.setState({visible:!0,selectedUser:t})},children:"\u4fee\u6539"}),Object(oe.jsx)(Ne.a,{title:"\u786e\u5b9a\u8981\u5220\u9664"+t.username+"\u5417`(*>\ufe4f<*)\u2032",onConfirm:function(){return e.deleteUser(t)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:Object(oe.jsx)(Pe,{children:"\u5220\u9664"})})]})}}],e.handleModalOk=function(){0===Object.keys(e.state.selectedUser).length?e.form.validateFields().then(function(){var t=Object(b.a)(j.a.mark((function t(n){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(n);case 2:a=t.sent,0===(r=a.data).status?(e.setState({visible:!1}),e.getUsers(),m.b.success("\u521b\u5efa\u7528\u6237\u6210\u529f\u5566~~~")):(m.b.error(r.msg),e.setState({visible:!1}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){})):e.form.validateFields().then(function(){var t=Object(b.a)(j.a.mark((function t(n){var a,r,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(Te.a)(Object(Te.a)({},e.state.selectedUser),n),t.next=3,U(a);case 3:r=t.sent,0===(s=r.data).status?(e.setState({visible:!1,selectedUser:{}}),e.getUsers(),m.b.success("\u4fee\u6539\u7528\u6237\u6210\u529f\u5566~~~")):(m.b.error(s.msg),e.setState({visible:!1,selectedUser:{}}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){}))},e.getForm=function(t){e.form=t},e.deleteUser=function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(n._id);case 2:a=t.sent,0===a.data.status?(m.b.success("\u5220\u9664\u7528\u6237\u6210\u529f\u5566~~"),e.getUsers()):m.b.error("\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\u54e6");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.initRoleNames=function(t){var n=t.reduce((function(e,t){return e[t._id]=t.name,e}),{});e.roleNames=n},e.getUsers=function(){e.setState({loading:!0},Object(b.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F();case 2:n=t.sent,0===(a=n.data).status?(e.initRoleNames(a.data.roles),e.setState({loading:!1,users:a.data.users,roles:a.data.roles})):m.b.error("\u54e6\uff1f\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86");case 5:case"end":return t.stop()}}),t)}))))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this,t=Object(oe.jsx)(g.a,{type:"primary",shape:"round",onClick:function(){return e.setState({visible:!0})},children:"\u6dfb\u52a0\u7528\u6237"});return Object(oe.jsxs)(Re.a,{title:t,style:{minHeight:"100%",minWidth:"100%"},children:[Object(oe.jsx)(He.a,{bordered:!0,rowKey:"_id",loading:this.state.loading,dataSource:this.state.users,columns:this.columns,pagination:{defaultPageSize:5,showQuickJumper:!0}}),Object(oe.jsx)(ze.a,{title:0===Object.keys(this.state.selectedUser).length?"\u6dfb\u52a0\u7528\u6237":"\u4fee\u6539".concat(this.state.selectedUser.username),destroyOnClose:!0,visible:this.state.visible,onOk:this.handleModalOk,onCancel:function(){return e.setState({visible:!1,selectedUser:{}})},cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",children:Object(oe.jsx)(wt,{getForm:this.getForm,roles:this.state.roles,user:this.state.selectedUser})})]})}}]),n}(a.Component),St=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).validator=function(e,t){return t?""===t.trim()?Promise.reject(new Error("\u89d2\u8272\u540d\u79f0\u4e0d\u80fd\u5168\u662f\u7a7a\u683c\u54e6~~")):Promise.resolve():Promise.reject(new Error("\u9700\u8981\u8f93\u5165\u89d2\u8272\u540d\u79f0\u54e6~~"))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getForm(this.form)}},{key:"render",value:function(){var e=this;return Object(oe.jsx)(f.a,{layout:"vertical",className:"AddRole-form",ref:function(t){return e.form=t},children:Object(oe.jsx)(f.a.Item,{label:"\u89d2\u8272\u540d\u79f0\uff1a",name:"roleName",rules:[{validator:this.validator}],required:!0,children:Object(oe.jsx)(O.a,{placeholder:"\u89d2\u8272\u540d\u79f0\u662f\u4ec0\u4e48\u561e~~"})})})}}]),n}(a.Component),Nt=n(535),It=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).treeData=[{title:"\u5e73\u53f0\u6743\u9650",key:"all",children:[]}],a.onCheck=function(e){a.setState({checkedKeys:e})},a.getMenus=function(){return a.state.checkedKeys},a.getTreeData=function(e){return e.map((function(e){return{title:e.title,key:e.key,children:e.children?a.getTreeData(e.children):null}}))},a.treeData[0].children=a.getTreeData(ye),a.state={checkedKeys:a.props.role.menus},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(oe.jsxs)("div",{children:[Object(oe.jsx)(f.a,{layout:"horizontal",className:"AuthRole-form",children:Object(oe.jsx)(f.a.Item,{label:"\u89d2\u8272\u540d\u79f0\uff1a",name:"roleName",initialValue:this.props.role.name,children:Object(oe.jsx)(O.a,{disabled:!0})})}),Object(oe.jsx)(Nt.a,{checkable:!0,defaultExpandAll:!0,checkedKeys:this.state.checkedKeys,onCheck:this.onCheck,treeData:this.treeData})]})}}]),n}(a.Component),Tt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).validator=function(e,t){return t?""===t.trim()?Promise.reject(new Error("\u89d2\u8272\u540d\u79f0\u4e0d\u80fd\u5168\u662f\u7a7a\u683c\u54e6~~")):Promise.resolve():Promise.reject(new Error("\u9700\u8981\u8f93\u5165\u89d2\u8272\u540d\u79f0\u54e6~~"))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getForm(this.form)}},{key:"render",value:function(){var e=this;return Object(oe.jsx)(f.a,{layout:"vertical",className:"ChangeRoleName-form",ref:function(t){return e.form=t},children:Object(oe.jsx)(f.a.Item,{label:"\u89d2\u8272\u540d\u79f0\uff1a",name:"roleName",rules:[{validator:this.validator}],initialValue:this.props.selectedRole.name,required:!0,children:Object(oe.jsx)(O.a,{placeholder:"\u89d2\u8272\u540d\u79f0\u662f\u4ec0\u4e48\u561e~~"})})})}}]),n}(a.Component),Pt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={roles:[],selectedRole:{},visiable:0,loading:!0},e.columns=[{align:"center",title:"\u89d2\u8272\u540d\u79f0",dataIndex:"name",key:"name"},{align:"center",title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",key:"create_time",render:Ie},{align:"center",title:"\u6388\u6743\u65f6\u95f4",dataIndex:"auth_time",key:"auth_time",render:Ie},{align:"center",title:"\u6388\u6743\u4eba",dataIndex:"auth_name",key:"auth_name"},{align:"center",title:"\u64cd\u4f5c",render:function(t){return Object(oe.jsx)("span",{children:Object(oe.jsx)(Pe,{onClick:function(){return e.setState({visible:3})},children:"\u4fee\u6539"})})}}],e.onRow=function(t){return{onClick:function(){e.setState({selectedRole:t})}}},e.onSelect=function(t){return e.setState({selectedRole:t})},e.getFormAdd=function(t){return e.addRole=t},e.handleAddOk=function(){e.addRole.validateFields().then(function(){var t=Object(b.a)(j.a.mark((function t(n){var a,r,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({visible:0}),a=n.roleName,t.next=4,J(a);case 4:r=t.sent,0===(s=r.data).status?(m.b.success("\u521b\u5efa\u89d2\u8272\u6210\u529f\u5566~\u522b\u5fd8\u4e86\u8bbe\u7f6e\u6743\u9650\u54e6"),e.setState({roles:[].concat(Object(et.a)(e.state.roles),[s.data])})):m.b.error("\u521b\u5efa\u89d2\u8272\u5931\u8d25\uff0c\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){}))},e.handleAuthOk=Object(b.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({visible:0}),(n=e.state.selectedRole).menus=e.authRole.getMenus(),n.auth_name=e.props.user.username,t.next=6,$(n);case 6:a=t.sent,0===a.data.status?n._id===e.props.user.role_id?(e.props.resetUser(),ne.removeUser(),e.props.history.replace("/login"),m.b.success("\u8bbe\u7f6e\u89d2\u8272\u6743\u9650\u6210\u529f\u5566\uff0c\u6539\u53d8\u4e86\u5f53\u524d\u7528\u6237\u7684\u6743\u9650\u9700\u8981\u91cd\u65b0\u767b\u5f55\u54e6~")):(m.b.success("\u8bbe\u7f6e\u89d2\u8272\u6743\u9650\u6210\u529f\u5566~~~"),e.setState({selectedRole:n}),e.getRoles()):m.b.error("\u6b38\uff1f\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\u6b38");case 9:case"end":return t.stop()}}),t)}))),e.getFormChangeName=function(t){return e.changeName=t},e.handleChangeNameOk=function(){e.changeName.validateFields().then(function(){var t=Object(b.a)(j.a.mark((function t(n){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({visible:0}),a=n.roleName,t.next=4,G(e.state.selectedRole._id,a);case 4:r=t.sent,0===r.data.status?(m.b.success("\u4fee\u6539\u540d\u79f0\u6210\u529f\u5566~~"),e.getRoles(),e.setState({selectedRole:{}})):m.b.error("\u4fee\u6539\u540d\u79f0\u5931\u8d25\uff0c\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){}))},e.getRoles=Object(b.a)(j.a.mark((function t(){var n,a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z();case 2:n=t.sent,0===(a=n.data).status?(r=a.data,e.setState({roles:r,loading:!1})):m.b.error("\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u83b7\u53d6\u89d2\u8272\u5217\u8868\u5931\u8d25\uff01");case 5:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getRoles()}},{key:"render",value:function(){var e=this,t=Object(oe.jsxs)("span",{children:[Object(oe.jsx)(g.a,{type:"primary",shape:"round",style:{marginRight:10},onClick:function(){return e.setState({visible:1})},children:"\u521b\u5efa\u89d2\u8272"}),Object(oe.jsx)(g.a,{type:"primary",shape:"round",disabled:!this.state.selectedRole._id,onClick:function(){return e.setState({visible:2})},children:"\u8bbe\u7f6e\u89d2\u8272\u6743\u9650"})]});return Object(oe.jsxs)(Re.a,{title:t,style:{minHeight:"100%",minWidth:"100%"},children:[Object(oe.jsx)(He.a,{rowKey:"_id",dataSource:this.state.roles,columns:this.columns,pagination:{defaultPageSize:5,showQuickJumper:!0},onRow:this.onRow,rowSelection:{type:"radio",selectedRowKeys:[this.state.selectedRole._id],onSelect:this.onSelect},bordered:!0,loading:this.state.loading}),Object(oe.jsx)(ze.a,{title:"\u521b\u5efa\u89d2\u8272",destroyOnClose:!0,visible:1===this.state.visible,onOk:this.handleAddOk,onCancel:function(){return e.setState({visible:0})},cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",children:Object(oe.jsx)(St,{getForm:this.getFormAdd})}),Object(oe.jsx)(ze.a,{title:"\u8bbe\u7f6e\u89d2\u8272\u6743\u9650",destroyOnClose:!0,visible:2===this.state.visible,onOk:this.handleAuthOk,onCancel:function(){return e.setState({visible:0})},cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",children:Object(oe.jsx)(It,{role:this.state.selectedRole,ref:function(t){return e.authRole=t}})}),Object(oe.jsx)(ze.a,{title:"\u66f4\u6539\u89d2\u8272\u540d\u79f0",destroyOnClose:!0,visible:3===this.state.visible,onOk:this.handleChangeNameOk,onCancel:function(){return e.setState({visible:0})},cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",children:Object(oe.jsx)(Tt,{getForm:this.getFormChangeName,selectedRole:this.state.selectedRole})})]})}}]),n}(a.Component),_t=Object(y.b)((function(e){return{user:e.user}}),{resetUser:se})(Pt),At=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={sales:[5,20,36,10,10,20],stores:[7,27,38,18,15,30]},e.update=function(){e.setState((function(e){return{sales:e.sales.map((function(e){return e+1})),stores:e.stores.reduce((function(e,t){return[].concat(Object(et.a)(e),[t+5])}),[])}}))},e.getOption=function(e,t){return{title:{text:"ECharts"},tooltip:{trigger:"axis"},legend:{data:["\u9500\u91cf","\u5e93\u5b58"]},xAxis:{data:["\u6234\u5c14","\u795e\u5dde","\u6d4b\u8bd51","\u6d4b\u8bd52","\u6d4b\u8bd53","\u6d4b\u8bd54"]},yAxis:{},series:[{name:"\u9500\u91cf",type:"bar",data:e},{name:"\u5e93\u5b58",type:"bar",data:t}]}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.sales,n=e.stores,a=Object(oe.jsx)(g.a,{type:"primary",shape:"round",onClick:this.update,children:"\u67f1\u72b6\u56fe\u66f4\u65b0"});return Object(oe.jsx)(Re.a,{title:a,style:{minHeight:"100%",minWidth:"100%"},children:Object(oe.jsx)(Me.a,{option:this.getOption(t,n),style:{minHeight:"100%"}})})}}]),n}(a.Component),Rt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={sales:[5,20,36,10,10,20],inventorys:[15,30,46,20,20,40]},e.getOption=function(){var t=e.state;return{title:{text:"ECharts"},tooltip:{},legend:{data:["\u9500\u91cf","\u5e93\u5b58"]},xAxis:{data:["\u886c\u886b","\u7f8a\u6bdb\u886b","\u96ea\u7eba\u886b","\u88e4\u5b50","\u9ad8\u8ddf\u978b","\u889c\u5b50"]},yAxis:{},series:[{name:"\u9500\u91cf",type:"line",data:t.sales},{name:"\u5e93\u5b58",type:"line",data:t.inventorys}]}},e.getOption2=function(){return{xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line",areaStyle:{}}]}},e.update=function(){var t=e.state.sales.map((function(e){return e+1})),n=e.state.inventorys.map((function(e){return e-1}));e.setState({sales:t,inventorys:n})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(oe.jsxs)("div",{style:{minHeight:"100%"},children:[Object(oe.jsx)(Re.a,{children:Object(oe.jsx)(g.a,{type:"primary",onClick:this.update,children:"\u66f4\u65b0"})}),Object(oe.jsx)(Re.a,{title:"\u6298\u7ebf\u56fe\u4e00",children:Object(oe.jsx)(Me.a,{option:this.getOption()})}),Object(oe.jsx)(Re.a,{title:"\u6298\u7ebf\u56fe\u4e8c",children:Object(oe.jsx)(Me.a,{option:this.getOption2()})})]})}}]),n}(a.Component),Lt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getOption=function(){return{title:{text:"\u67d0\u7ad9\u70b9\u7528\u6237\u8bbf\u95ee\u6765\u6e90",subtext:"\u7eaf\u5c5e\u865a\u6784",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["\u76f4\u63a5\u8bbf\u95ee","\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u641c\u7d22\u5f15\u64ce"]},series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:234,name:"\u8054\u76df\u5e7f\u544a"},{value:135,name:"\u89c6\u9891\u5e7f\u544a"},{value:1548,name:"\u641c\u7d22\u5f15\u64ce"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},e.getOption2=function(){return{backgroundColor:"#2c343c",title:{text:"Customized Pie",left:"center",top:20,textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},visualMap:{show:!1,min:80,max:600,inRange:{colorLightness:[0,1]}},series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:274,name:"\u8054\u76df\u5e7f\u544a"},{value:235,name:"\u89c6\u9891\u5e7f\u544a"},{value:400,name:"\u641c\u7d22\u5f15\u64ce"}].sort((function(e,t){return e.value-t.value})),roseType:"radius",label:{normal:{textStyle:{color:"rgba(255, 255, 255, 0.3)"}}},labelLine:{normal:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.2,length:10,length2:20}},itemStyle:{normal:{color:"#c23531",shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"}},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(e){return 200*Math.random()}}]}},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(oe.jsxs)("div",{style:{minHeight:"100%"},children:[Object(oe.jsx)(Re.a,{title:"\u997c\u56fe\u4e00",children:Object(oe.jsx)(Me.a,{option:this.getOption(),style:{height:300}})}),Object(oe.jsx)(Re.a,{title:"\u997c\u56fe\u4e8c",children:Object(oe.jsx)(Me.a,{option:this.getOption2(),style:{height:300}})})]})}}]),n}(a.Component),Ut=n(130),Ft=n(71),Et=(n(525),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).goHome=function(){e.props.setHeadTitle("\u9996\u9875"),e.props.history.replace("/home")},e}return Object(l.a)(n,[{key:"render",value:function(){return this.props.setHeadTitle("404"),Object(oe.jsxs)(Ut.a,{className:"not-found",children:[Object(oe.jsx)(Ft.a,{span:12,className:"left"}),Object(oe.jsxs)(Ft.a,{span:12,className:"right",children:[Object(oe.jsx)("h1",{children:"404"}),Object(oe.jsx)("h2",{children:"\u62b1\u6b49\uff0c\u4f60\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728"}),Object(oe.jsx)("div",{children:Object(oe.jsx)(g.a,{type:"primary",onClick:this.goHome,children:"\u56de\u5230\u9996\u9875"})})]})]})}}]),n}(a.Component)),Mt=Object(y.b)(null,{setHeadTitle:ae})(Et),Dt=de.a.Footer,Vt=de.a.Sider,Ht=de.a.Content,zt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.user;return e&&e._id?Object(oe.jsxs)(de.a,{style:{minHeight:"100%"},children:[Object(oe.jsx)(Vt,{children:Object(oe.jsx)(Se,{style:{minHeight:"100%"}})}),Object(oe.jsxs)(de.a,{children:[Object(oe.jsx)(Ae,{}),Object(oe.jsx)(Ht,{style:{backgroundColor:"#fff",margin:"20px"},children:Object(oe.jsxs)(h.d,{children:[Object(oe.jsx)(h.a,{from:"/",to:"/home",exact:!0}),Object(oe.jsx)(h.b,{path:"/home",component:Ve}),Object(oe.jsx)(h.b,{path:"/category",component:$e}),Object(oe.jsx)(h.b,{path:"/product",component:yt}),Object(oe.jsx)(h.b,{path:"/role",component:_t}),Object(oe.jsx)(h.b,{path:"/user",component:Ct}),Object(oe.jsx)(h.b,{path:"/charts/bar",component:At}),Object(oe.jsx)(h.b,{path:"/charts/line",component:Rt}),Object(oe.jsx)(h.b,{path:"/charts/pie",component:Lt}),Object(oe.jsx)(h.b,{component:Mt})]})}),Object(oe.jsxs)(Dt,{style:{textAlign:"center",margin:"auto",fontSize:"15px",color:"gray",backgroundColor:"#f0f2f5",width:"100%",display:"flex",minHeight:"5%",alignItems:"flex-end",justifyContent:"center"},children:["\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Hello ",e.username]})]})]}):Object(oe.jsx)(h.a,{to:"/login"})}}]),n}(a.Component),qt=Object(y.b)((function(e){return{user:e.user}}))(zt),Wt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(oe.jsx)(a.Fragment,{children:Object(oe.jsxs)(h.d,{children:[Object(oe.jsx)(h.b,{path:"/login",component:ue}),Object(oe.jsx)(h.b,{path:"/",component:qt})]})})}}]),n}(a.Component),Kt=n(123),Bt=n(287),Jt=n(288);var Zt=ne.getUser();var $t=Object(Kt.combineReducers)({headTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u9996\u9875",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return t.data;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.user;case C:var n=t.errorMsg;return Object(Te.a)(Object(Te.a)({},e),{},{errorMsg:n});case S:return{};default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return t.product;default:return e}}}),Gt=Object(Kt.createStore)($t,Object(Jt.composeWithDevTools)(Object(Kt.applyMiddleware)(Bt.a)));i.a.render(Object(oe.jsx)(y.a,{store:Gt,children:Object(oe.jsx)(c.a,{children:Object(oe.jsx)(Wt,{})})}),document.getElementById("root"))}},[[526,1,2]]]);
//# sourceMappingURL=main.c5048b4f.chunk.js.map